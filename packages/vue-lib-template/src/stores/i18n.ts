import { defineStore } from 'pinia'
import { createI18n } from 'vue-i18n'

const messages = {
  zh: {
    title: '复杂表单验证示例',
    subtitle: 'Vue 3 + TypeScript + Element Plus + TailwindCSS',
    toggleTips: '切换中英文以查看不同文案与校验提示',
    formHeader: '个人资料与偏好设置',
    formDesc: '该表单涵盖常见控件与高级校验（异步校验、交叉校验、上传校验、动态字段等）。',
    reset: '重置',
    validate: '仅校验',
    submit: '提交',
    footerTips: '提交前会进行全面校验；示例不会真正上传文件。',

    username: { label: '用户名', ph: '3-16位字母/数字/下划线' },
    email: { label: '邮箱', ph: 'name@example.com' },
    password: {
      label: '密码',
      ph: '至少8位，含大小写字母、数字和符号',
      strength: '强度',
      rulesHint: '需含大小写/数字/符号',
    },
    confirmPassword: { label: '确认密码', ph: '再次输入密码' },
    phone: { label: '手机号', ph: '+86 13800000000 或 +1 555-123-4567' },
    age: { label: '年龄' },
    gender: { label: '性别', male: '男', female: '女', other: '其他' },
    interests: { label: '兴趣方向', frontend: '前端', backend: '后端', design: '设计' },
    location: { label: '国家/城市', ph: '请选择' },
    address: { label: '详细地址', ph: '街道、门牌等' },
    website: { label: '个人网站', ph: 'https://example.com' },
    dob: { label: '出生日期', ph: '选择日期' },
    availability: { label: '可用日期范围', start: '开始日期', end: '结束日期' },
    time: { label: '偏好时间', ph: '选择时间' },
    notifications: { label: '通知开关', on: '已开启', off: '已关闭' },
    color: { label: '偏好颜色' },
    salary: { label: '期望薪资（示例）', help: '0-100 为示例区间，可按需调整' },
    tags: { label: '标签（可创建）', ph: '输入并回车创建' },
    avatar: { label: '头像上传', tips: 'PNG/JPG/WebP，≤2MB', error: '头像上传失败' },
    resume: { label: '简历上传（拖拽）', drop: '拖拽文件到此或点击上传', tips: 'PDF/DOCX，≤5MB' },
    skills: { label: '技能列表（可增删）', namePh: '技能名称，如：Vue', help: '至少填写一项技能；年限 0-50' },
    agree: '我已阅读并同意《用户协议》',

    // Validation messages
    v_required: '必填项',
    v_username: '用户名需为3-16位字母、数字或下划线',
    v_username_taken: '该用户名已被占用',
    v_email: '邮箱格式不正确',
    v_password_basic: '密码至少8位',
    v_password_complex: '需包含大写、小写、数字、符号',
    v_confirm: '两次输入的密码不一致',
    v_phone: '手机号格式不正确',
    v_age: '年龄需在18-100之间',
    v_gender: '请选择性别',
    v_interests: '至少选择一项兴趣',
    v_location: '请选择国家/城市',
    v_address: '请填写详细地址',
    v_url: '网址格式不正确',
    v_dob: '请选择出生日期',
    v_18plus: '需年满18岁',
    v_range: '请选择完整的开始与结束日期（至少1天）',
    v_time: '请选择时间',
    v_tags_max: '最多选择/创建 5 个标签',
    v_agree: '请先勾选同意条款',
    v_skill_required: '至少填写一项技能',
    v_skill_name_required: '技能名称不能为空',
    v_skill_years: '年限应在 0-50 之间',
    v_avatar_type: '头像仅支持 PNG/JPG/WebP',
    v_avatar_size: '头像大小需 ≤ 2MB',
    v_resume_type: '仅支持 PDF 或 DOC/DOCX',
    v_resume_size: '简历大小需 ≤ 5MB',
  },
  en: {
    title: 'Complex Form Validation Demo',
    subtitle: 'Vue 3 + TypeScript + Element Plus + TailwindCSS',
    toggleTips: 'Switch languages to see localized labels & messages',
    formHeader: 'Profile & Preferences',
    formDesc: 'This form showcases common controls and advanced validation (async, cross-field, upload, dynamic list, etc.).',
    reset: 'Reset',
    validate: 'Validate',
    submit: 'Submit',
    footerTips: 'A full validation runs before submit; uploads are simulated only.',

    username: { label: 'Username', ph: '3–16 chars: letters/numbers/_' },
    email: { label: 'Email', ph: 'name@example.com' },
    password: {
      label: 'Password',
      ph: 'Min 8 chars incl. upper/lower/digit/symbol',
      strength: 'Strength',
      rulesHint: 'Upper/Lower/Digit/Symbol required',
    },
    confirmPassword: { label: 'Confirm Password', ph: 'Enter password again' },
    phone: { label: 'Phone', ph: '+86 13800000000 or +1 555-123-4567' },
    age: { label: 'Age' },
    gender: { label: 'Gender', male: 'Male', female: 'Female', other: 'Other' },
    interests: { label: 'Interests', frontend: 'Frontend', backend: 'Backend', design: 'Design' },
    location: { label: 'Country / City', ph: 'Please select' },
    address: { label: 'Address', ph: 'Street, number, etc.' },
    website: { label: 'Website', ph: 'https://example.com' },
    dob: { label: 'Date of Birth', ph: 'Pick a date' },
    availability: { label: 'Availability Range', start: 'Start date', end: 'End date' },
    time: { label: 'Preferred Time', ph: 'Pick a time' },
    notifications: { label: 'Notifications', on: 'On', off: 'Off' },
    color: { label: 'Preferred Color' },
    salary: { label: 'Expected Salary (demo)', help: '0–100 is a demo range; tweak as needed' },
    tags: { label: 'Tags (createable)', ph: 'Type and press Enter' },
    avatar: { label: 'Avatar Upload', tips: 'PNG/JPG/WebP, ≤2MB', error: 'Avatar upload failed' },
    resume: { label: 'Resume (drag & drop)', drop: 'Drop files here or click to upload', tips: 'PDF/DOCX, ≤5MB' },
    skills: { label: 'Skills (add/remove)', namePh: 'Skill name, e.g., Vue', help: 'Provide at least one; 0–50 years' },
    agree: 'I agree to the Terms of Service',

    // Validation messages
    v_required: 'Required',
    v_username: '3–16 letters, numbers or _',
    v_username_taken: 'Username is already taken',
    v_email: 'Invalid email format',
    v_password_basic: 'Password must be at least 8 characters',
    v_password_complex: 'Must include upper/lowercase, digit, and symbol',
    v_confirm: 'Passwords do not match',
    v_phone: 'Invalid phone format',
    v_age: 'Age must be between 18 and 100',
    v_gender: 'Please select gender',
    v_interests: 'Pick at least one interest',
    v_location: 'Please select country/city',
    v_address: 'Please provide address',
    v_url: 'Invalid URL',
    v_dob: 'Please select date of birth',
    v_18plus: 'You must be at least 18',
    v_range: 'Pick both start and end (min 1 day)',
    v_time: 'Please select a time',
    v_tags_max: 'At most 5 tags',
    v_agree: 'Please agree to continue',
    v_skill_required: 'Add at least one skill',
    v_skill_name_required: 'Skill name is required',
    v_skill_years: 'Years must be between 0 and 50',
    v_avatar_type: 'Avatar must be PNG/JPG/WebP',
    v_avatar_size: 'Avatar size must be ≤ 2MB',
    v_resume_type: 'Only PDF or DOC/DOCX are allowed',
    v_resume_size: 'Resume size must be ≤ 5MB',
  },
}

export const i18n = createI18n({
  locale: 'zh',
  fallbackLocale: 'en',
  messages,
})

export const useI18nStore = defineStore('i18n', {
  state: () => {
    return {
      locale: 'en',
      i18n,
    }
  },
  actions: {
    setLocale(locale: string) {
      this.locale = locale
    },
  },
})
